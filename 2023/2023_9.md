## 9/3(sun)

#### JavaScript

`event.target` -> イベントが発生する原因となった要素

`event.currentTarget` -> イベントハンドラが登録された要素

```js
export const App = () => {
  const handleClick = (event) => {
    console.log({
      target: event.target,
      currentTarget: event.currentTarget,
    });
  };

  return (
    <button onClick={handleClick}>click</button>
  );
};

// 発生した箇所も登録された箇所も button なので結果は同じ
// { target: button, currentTarget: button }
```

```js
export const App = () => {
  const handleClick = (event) => {
    console.log({
      target: event.target,
      currentTarget: event.currentTarget,
    });
  };

  return (
    <div>
      <button onClick={handleClick}>click</button>
    </div>
  );
};

// この場合も発生した箇所も登録された箇所も button なので結果は同じ
// { target: button, currentTarget: button }
```

```js
export const App = () => {
  const handleClick = (event) => {
    console.log({
      target: event.target,
      currentTarget: event.currentTarget,
    });
  };

  return (
    <div onClick={handleClick}>
      <button>click</button>
    </div>
  );
};

// 発生箇所は button、登録されている箇所は div なので結果が異なる
// {target: button, currentTarget: div}
```
<br>
このように `event.target` は必ずしもイベントが登録された要素が返ってくるとは限らないため（window, document などもターゲットになりうる）、
TypeScript で `event.target.value` のように記述すると怒られる（value を持たないターゲットの可能性もあるため）

```ts
function App() {
  const handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {
    // 通る
    console.log(e.currentTarget.value);
    // エラー
    // プロパティ 'value' は型 'EventTarget' に存在しません。ts(2339)
    console.log(e.target.value);
  }
  return (
      <button onClick={handleClick}>
        <strong>Click me</strong>
      </button>
  );
};
```
